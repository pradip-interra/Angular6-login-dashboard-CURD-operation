<app-sidebar></app-sidebar>

<div class="error-panel text-danger" *ngIf="errorMessage">
    <ul>
      <li>
          <h3>{{errorMessage}}</h3>
      </li>
    </ul> 
</div>

<div class="action-buttons" *ngIf="!errorMessage">
    <button class="btn btn-primary" (click)="onCreate()">Create</button>
    <button class="btn btn-primary" (click)="onEdit()" [disabled]="!gridRowSelected">Edit</button>
    <button class="btn btn-primary" (click)="onDelete()" [disabled]="!gridRowSelected">Delete</button>
    <button class="btn btn-primary" (click)="onRefresh()">Refresh</button>
    <p class="info-message">Double click a row to view the details. Select a row to edit or delete.</p>
</div>

<!-- <div class="post-grid-div">
  <h2> Posts: </h2>
  <table class="table-bordered">
    <tr class="inventory-table-header">
      <th class="text-center">Post ID</th>
      <th class="text-center">User ID</th>
      <th class="text-center">Title</th>
    </tr>
    <tr *ngFor="let post of posts">
      <td>{{post.id}}</td>
      <td>{{post.userId}}</td>
      <td>{{post.title}}</td>
      <td>
          <button class="btn btn-primary" (click)="onSelect(post)">View Details</button>
          <button class="btn btn-primary" (click)="onEdit(post)">Edit</button>
          <button class="btn btn-primary" (click)="onDelete(post)">Delete</button>
      </td>
    </tr>
  </table>
</div> -->

<div class="ag-grid-div" *ngIf="!errorMessage">

  <ag-grid-angular 
    class="ag-theme-balham"
    style="width: 100%; height: 500px;"
    [enableSorting]="true"
    [enableFilter]="true"
    [rowData]="posts"  
    [columnDefs]="gridColumnDefn"
    [rowSelection]="single"
    [pagination]="true"
    [paginationPageSize]="25"
    [enableColResize]="true"
    (gridReady)="onGridReady($event)"
    (rowSelected)="onRowSelected($event)"
    (rowDoubleClicked)="onRowDoubleClicked($event)">
  </ag-grid-angular>

</div>